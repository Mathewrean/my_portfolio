<aside class="sidebar-nav">
  <div class="logo">
    <i class="fas fa-shield-alt"></i>
    <h2>Portfolio</h2>
  </div>
  <nav>
    <a href="index.html" class="nav-link" data-page="index.html">
      <i class="fas fa-home"></i>
      <span>Home</span>
    </a>
    <a href="components/About.html" class="nav-link" data-page="About.html">
      <i class="fas fa-user"></i>
      <span>About</span>
    </a>
    <a href="components/Resume.html" class="nav-link" data-page="Resume.html">
      <i class="fas fa-file-alt"></i>
      <span>Resume</span>
    </a>
    <a href="components/Projects.html" class="nav-link" data-page="Projects.html">
      <i class="fas fa-laptop-code"></i>
      <span>Projects</span>
    </a>
    <a href="components/Challenges.html" class="nav-link" data-page="Challenges.html">
      <i class="fas fa-flag"></i>
      <span>Challenges</span>
    </a>
    <a href="components/Contacts.html" class="nav-link" data-page="Contacts.html">
      <i class="fas fa-envelope"></i>
      <span>Contact</span>
    </a>
  </nav>
</aside>

<script>
function initializeSidebar() {
  const navLinks = document.querySelectorAll('.sidebar-nav .nav-link');
  const isNested = window.location.pathname.includes('/components/');
  
  // Update href based on current location
  navLinks.forEach(link => {
    let href = link.getAttribute('href');
    if (isNested) {
      // We're in a component page, adjust paths
      if (href === 'index.html') {
        href = '../index.html';
      } else if (href.startsWith('components/')) {
        href = href.replace('components/', '');
      }
    }
    link.setAttribute('href', href);
  });
  
  // Set active link
  let currentPage = window.location.pathname.split('/').pop();
  if (!currentPage || currentPage === '') currentPage = 'index.html';
  
  navLinks.forEach(link => {
    const dataPage = link.getAttribute('data-page');
    if (dataPage === currentPage) {
      link.classList.add('active');
    } else {
      link.classList.remove('active');
    }
  });
}

// Initialize when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initializeSidebar);
} else {
  initializeSidebar();
}
</script>
