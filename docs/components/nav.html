<nav class="navbar">
  <div class="nav-container">
    <div class="nav-brand">
      <a href="../index.html" class="brand-link">
        <i class="fas fa-shield-alt"></i>
        <span>Mathewrean Otieno</span>
      </a>
    </div>
    <button class="nav-toggle" aria-label="Toggle navigation">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <ul class="nav-menu">
      <li class="nav-item">
        <a href="../index.html" class="nav-link" data-page="index.html">
          <i class="fas fa-home"></i>
          <span>Home</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="About.html" class="nav-link" data-page="About.html">
          <i class="fas fa-user"></i>
          <span>About</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="Resume.html" class="nav-link" data-page="Resume.html">
          <i class="fas fa-file-alt"></i>
          <span>Resume</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="Projects.html" class="nav-link" data-page="Projects.html">
          <i class="fas fa-laptop-code"></i>
          <span>Projects</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="LabChallenges.html" class="nav-link" data-page="LabChallenges.html">
          <i class="fas fa-flask"></i>
          <span>Lab Challenges</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="Contacts.html" class="nav-link" data-page="Contacts.html">
          <i class="fas fa-envelope"></i>
          <span>Contact</span>
        </a>
      </li>
    </ul>
  </div>
</nav>

<script>
// Navigation functionality with robust path handling
document.addEventListener('DOMContentLoaded', function() {
  const navToggle = document.querySelector('.nav-toggle');
  const navMenu = document.querySelector('.nav-menu');
  const navLinks = document.querySelectorAll('.nav-link');

  // Toggle mobile menu
  if (navToggle) {
    navToggle.addEventListener('click', function() {
      navMenu.classList.toggle('active');
    });
  }

  // Get current file name for active link highlighting
  let currentPage = window.location.pathname.split('/').pop();
  // If index.html is loaded as default (empty string), treat as index.html
  if (!currentPage) currentPage = "index.html";

  navLinks.forEach(link => {
    // Only highlight if the file name matches
    if (link.getAttribute('data-page') === currentPage) {
      link.classList.add('active');
    }
  });

  // Close mobile menu on link click
  navLinks.forEach(link => {
    link.addEventListener('click', function() {
      navMenu.classList.remove('active');
    });
  });
});
</script>
