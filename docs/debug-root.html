<!DOCTYPE html>
<html>
<head>
  <title>Navigation Debug - Root</title>
  <link rel="stylesheet" href="styles/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    #debug { 
      position: fixed; 
      right: 20px; 
      top: 20px; 
      background: white; 
      max-height: 400px; 
      overflow-y: auto;
      border: 2px solid #10a37f;
      padding: 15px;
      border-radius: 8px;
      background: #0f0f0f;
      color: #10a37f;
      font-family: monospace;
      font-size: 12px;
      z-index: 9999;
      width: 350px;
      box-shadow: 0 0 20px #10a37f;
    }
    #debug h3 { margin-top: 0; }
    #debug p { margin: 5px 0; }
    #debug code { color: #47c79a; }
  </style>
</head>
<body>
  <div id="nav-placeholder"></div>
  <div id="debug">
    <h3>Navigation Debug</h3>
    <p>Page: Root (index.html)</p>
    <p>Pathname: <code id="pathname"></code></p>
    <p>Is Nested: <code id="isnested"></code></p>
    <hr>
    <h4>Generated Links:</h4>
    <div id="links"></div>
  </div>

  <main class="container">
    <h1>Navigation Debug Page (Root)</h1>
    <p>Check the debug panel on the right to see generated navigation hrefs.</p>
  </main>

  <script>
    fetch('components/nav.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('nav-placeholder').innerHTML = data;
        
        // Wait for DOM to be updated
        setTimeout(() => {
          if (typeof initializeNavigation === 'function') {
            initializeNavigation();
          }
          
          // Show debug info
          const pathname = window.location.pathname;
          const isNested = pathname.includes('/components/');
          
          document.getElementById('pathname').textContent = pathname;
          document.getElementById('isnested').textContent = isNested ? 'Yes' : 'No';
          
          // Show all link hrefs
          const links = document.querySelectorAll('.nav-link');
          let linksHtml = '';
          links.forEach((link, index) => {
            const href = link.getAttribute('href');
            const text = link.querySelector('span')?.textContent || link.textContent;
            linksHtml += `<p>${index + 1}. ${text}: <code>${href}</code></p>`;
          });
          
          document.getElementById('links').innerHTML = linksHtml || '<p>No links found</p>';
        }, 100);
      });
  </script>
</body>
</html>
